spring:
  application:
    name: auth-user

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}  # Default: dev profile cho IDE

  # Docker Compose Integration - TẮT (không cần khi deploy Docker)
  docker:
    compose:
      enabled: false

  # JPA & Hibernate - Common config
  jpa:
    hibernate:
      ddl-auto: none  # Không tự động tạo schema (dùng Flyway)
    show-sql: false  # Không log SQL (bật trong dev profile nếu cần)
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect

  # Flyway Migration - Common config
  flyway:
    enabled: true
    baseline-on-migrate: true
    clean-disabled: false

# Eureka Client - Sẽ được override bởi profile
eureka:
  client:
    register-with-eureka: true
    fetch-registry: true
  instance:
    prefer-ip-address: true

# Server Config - Sẽ được override bởi profile
server:
  servlet:
    context-path: /
  forward-headers-strategy: framework
  tomcat:
    remoteip:
      remote-ip-header: X-Forwarded-For
      protocol-header: X-Forwarded-Proto

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:yourSecretKeyMustBeAtLeast256BitsLongForHS256Algorithm}
  access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION:3600000}  # 1 hour (ms)
  refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION:604800000}  # 7 days (ms)

# OTP Configuration
otp:
  expiration-minutes: ${OTP_EXPIRATION_MINUTES:5}
  length: ${OTP_LENGTH:6}

# Application Configuration
app:
  name: "EV Battery Swap Station Management System"
  frontend-url: ${FRONTEND_URL:http://localhost:3000}
  kafka:
    topics:
      support-ticket-created: support.ticket.created
      support-ticket-updated: support.ticket.updated
      email-notification: notification.email

# Springdoc OpenAPI (Swagger) Configuration
springdoc:
  api-docs:
    path: /v3/api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operations-sorter: method
    tags-sorter: alpha
    doc-expansion: none
  show-actuator: false

#AWS S3 Configuration
aws:
  region: ap-southeast-2
  s3:
    bucket-name: shoe-store-images-newbie
  access-key: ${S3_ACCESS_KEY}
  secret-key: ${S3_SECRET}

# Logging - Common config
logging:
  level:
    org.springframework: INFO
    com.boilerplate.auth: DEBUG

